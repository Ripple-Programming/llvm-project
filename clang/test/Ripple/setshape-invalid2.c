// NOTE: Assertions have been autogenerated by utils/update_cc_test_checks.py UTC_ARGS: --version 5
// REQUIRES: aarch64-registered-target || x86-registered-target
// RUN: %clang -O0 -fenable-ripple -g -S -emit-llvm %s 2>%t; FileCheck %s --input-file=%t

#include <ripple.h>

size_t check() {
  ripple_block_t BS = ripple_set_block_shape(0, 32, 4);
  ripple_block_t *BS2 = &BS;
  return ripple_reduceadd(0x1, ripple_id(*BS2, 0));
}

// CHECK: setshape-invalid2.c:{{.*}}: Cannot locate the source block shape of this ripple intrinsic
